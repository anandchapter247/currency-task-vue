{"remainingRequest":"/var/www/html/currency-task-vue/node_modules/babel-loader/lib/index.js!/var/www/html/currency-task-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/currency-task-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/var/www/html/currency-task-vue/src/components/CurrencyHistoryComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/var/www/html/currency-task-vue/src/components/CurrencyHistoryComponent.vue","mtime":1606556878706},{"path":"/var/www/html/currency-task-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/currency-task-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/currency-task-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/currency-task-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKCmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaXRlbV9tYW5hZ2VtZW50X3Rva2VuIikgPT09IG51bGwpIHsvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaXRlbV9tYW5hZ2VtZW50X3Rva2VuIiwgdW5pcXVlVG9rZW4uam9pbigiIikpOwp9CgppbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZyc7CnZhciBBUElVUkwgPSBjb25maWcuQVBJX1VSTDsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IERlZmF1bHRMYXlvdXQgZnJvbSAiLi4vbGF5b3V0cy9EZWZhdWx0TGF5b3V0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDdXJyZW5jeUhpc3RvcnlDb21wb25lbnQiLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEN1cnJlbmN5TGlzdCgpLCB0aGlzLiRlbWl0KCJ1cGRhdGU6bGF5b3V0IiwgRGVmYXVsdExheW91dCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgY3VycmVuY3lfbGlzdDogW10sCiAgICAgIGN1cnJlbmN5OiB7fSwKICAgICAgbGlua3M6IFtdLAogICAgICBmcm9tOiAwLAogICAgICBwYWdlOiAwLAogICAgICBmcm9tX2RhdGU6ICIiLAogICAgICB0b19kYXRlOiAiIiwKICAgICAgcG9zdF9kYXRhOiB7fSwKICAgICAgcGFnZV9zaXplOiAyCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q3VycmVuY3lMaXN0OiBmdW5jdGlvbiBnZXRDdXJyZW5jeUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGlnaXRDb3VudCA9IHRoaXMuaWQudG9TdHJpbmcoKS5sZW5ndGg7CiAgICAgIHZhciBjaWQgPSAwOwoKICAgICAgaWYgKGRpZ2l0Q291bnQgPT0gMikgewogICAgICAgIGNpZCA9IHBhZCh0aGlzLmlkLCAzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjaWQgPSB0aGlzLmlkOwogICAgICB9CgogICAgICBpZiAodGhpcy5mcm9tX2RhdGUgIT0gIiIgfHwgdGhpcy50b19kYXRlICE9ICcnKSB7CiAgICAgICAgdGhpcy5wb3N0X2RhdGEgPSB7CiAgICAgICAgICBwYWdlX3NpemU6IHRoaXMucGFnZV9zaXplLAogICAgICAgICAgY3VycmVuY3lfaWQ6IGNpZCwKICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICAgIGRhdGVfZnJvbTogdGhpcy5mcm9tX2RhdGUsCiAgICAgICAgICBkYXRlX3RvOiB0aGlzLnRvX2RhdGUKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucG9zdF9kYXRhID0gewogICAgICAgICAgcGFnZV9zaXplOiB0aGlzLnBhZ2Vfc2l6ZSwKICAgICAgICAgIGN1cnJlbmN5X2lkOiBjaWQsCiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2UKICAgICAgICB9OwogICAgICB9IC8vIGNvbnNvbGUubG9nKGAke0FQSVVSTH1jdXJyZW5jeS9saXN0YCk7CgoKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiJdID0gIioiOwogICAgICB2YXIgcmVzcG9uc2UgPSBheGlvcy5wb3N0KEFQSVVSTCArICJjdXJyZW5jeS9oaXN0b3J5IiwgdGhpcy5wb3N0X2RhdGEsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVuY3lJc1VzZXJMb2dpbiIpLAogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJlc3BvbnNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhLmN1cnJlbmN5KTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEuaGlzdG9yeSk7CiAgICAgICAgX3RoaXMuY3VycmVuY3kgPSByZXNwb25zZS5kYXRhLmRhdGEuY3VycmVuY3k7CiAgICAgICAgX3RoaXMuY3VycmVuY3lfbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5oaXN0b3J5LmRhdGE7CiAgICAgICAgX3RoaXMubGlua3MgPSByZXNwb25zZS5kYXRhLmRhdGEuaGlzdG9yeS5saW5rczsKICAgICAgICBfdGhpcy5mcm9tID0gcmVzcG9uc2UuZGF0YS5kYXRhLmhpc3RvcnkuZnJvbTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgZXJyb3IgPSBlLnJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93TGlzdDogZnVuY3Rpb24gc2hvd0xpc3QocGFnZW5vKSB7CiAgICAgIGlmIChwYWdlbm8gPT0gIk5leHQgJnJhcXVvOyIpIHsKICAgICAgICBjb25zb2xlLmxvZygibmV4dCIpOwogICAgICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZSArIDE7CiAgICAgIH0gZWxzZSBpZiAocGFnZW5vID09ICImbGFxdW87IFByZXZpb3VzIikgewogICAgICAgIGNvbnNvbGUubG9nKCJwcmV2aW91cyIpOwogICAgICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZSAtIDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYWdlID0gcGFnZW5vOwogICAgICB9CgogICAgICB0aGlzLmdldEN1cnJlbmN5TGlzdCgpOwogICAgfQogIH0KfTsKCmZ1bmN0aW9uIHBhZChuLCB3aWR0aCwgeikgewogIHogPSB6IHx8ICIwIjsKICBuID0gbiArICIiOwogIHJldHVybiBuLmxlbmd0aCA+PSB3aWR0aCA/IG4gOiBuZXcgQXJyYXkod2lkdGggLSBuLmxlbmd0aCArIDEpLmpvaW4oeikgKyBuOwp9"},{"version":3,"sources":["/var/www/html/currency-task-vue/src/components/CurrencyHistoryComponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"main-container\">\n    <h1 class=\"main-title\">Currency History</h1>\n\n    <div class=\"box-wrap\">\n      \n      <div class=\"width100\">\n        <div class=\"show-detail width100\">Name : {{ currency.Name }}</div>\n        <div class=\"show-detail width25\">Id : {{ currency.ID }}</div>\n        <div class=\"show-detail width25\">NumCode : {{ currency.NumCode }}</div>\n        <div class=\"show-detail width25\">\n          CharCode : {{ currency.CharCode }}\n        </div>\n        <div class=\"show-detail width25\">Nominal : {{ currency.Nominal }}</div>\n        <div class=\"show-detail width25\">&nbsp;</div>\n      </div>\n      <hr />\n\n      <div class=\"input-div\">\n      <input\n        type=\"text\"\n        name=\"\"\n        id=\"\"\n        class=\"custom-input\"\n        placeholder=\"From Date(yyyy-mm-dd)\"\n        v-model=\"from_date\"\n        v-on:keyup.enter=\"getCurrencyList()\"\n      />\n      <input\n        type=\"text\"\n        name=\"\"\n        id=\"\"\n        class=\"custom-input\"\n        placeholder=\"To Date(yyyy-mm-dd)\"\n        v-model=\"to_date\"\n        v-on:keyup.enter=\"getCurrencyList()\"\n      />\n      <button @click=\"getCurrencyList()\" class=\"theme-btn width225px\">Get History</button>\n      </div>\n      <hr />\n      <table>\n        <thead>\n          <tr>\n            <th>S No.</th>\n            <th>Rate</th>\n            <th>Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, index) in currency_list\" :key=\"item\">\n            <td>{{ index + from }}</td>\n            <td>{{ item.price }}</td>\n            <td>{{ item.currency_date }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"pagination\">\n        <a\n          v-for=\"l in links\"\n          :key=\"l\"\n          @click=\"showList(l.label)\"\n          v-html=\"`${l.label}`\"\n        ></a>\n      </div>\n    </div>\n    <div v-show=\"noItemSelectedForMoveMsg !== ''\" class=\"error-div\">\n      {{ noItemSelectedForMoveMsg }}\n    </div>\n  </div>\n</template>\n\n<script>\nif (localStorage.getItem(\"item_management_token\") === null) {\n  // localStorage.setItem(\"item_management_token\", uniqueToken.join(\"\"));\n}\nimport config from '../config'\nconst APIURL = config.API_URL ;\nimport axios from \"axios\";\nimport DefaultLayout from \"../layouts/DefaultLayout\";\n\nexport default {\n  name: \"CurrencyHistoryComponent\",\n  created() {\n    this.getCurrencyList(), this.$emit(\"update:layout\", DefaultLayout);\n  },\n  data() {\n    return {\n      id: this.$route.params.id,\n      currency_list: [],\n      currency: {},\n      links: [],\n      from: 0,\n      page: 0,\n      from_date: \"\",\n      to_date: \"\",\n      post_data : {},\n      page_size : 2\n    };\n  },\n  methods: {\n    getCurrencyList() {\n      var digitCount = this.id.toString().length;\n      var cid = 0;\n      if (digitCount == 2) {\n        cid = pad(this.id, 3);\n      } else {\n        cid = this.id;\n      }\n      \n      if (this.from_date != \"\" || this.to_date != '') {\n        this.post_data = { page_size: this.page_size, currency_id: cid, page: this.page, date_from : this.from_date, date_to : this.to_date };\n      } else {\n        this.post_data = { page_size: this.page_size, currency_id: cid, page: this.page };\n      }\n\n      // console.log(`${APIURL}currency/list`);\n\n      axios.defaults.headers.common[\"Access-Control-Allow-Origin\"] = \"*\";\n\n      const response = axios.post(\n        APIURL+`currency/history`,\n        this.post_data,\n        {\n          headers: {\n            Authorization:\n              \"Bearer \" + localStorage.getItem(\"currencyIsUserLogin\"),\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      response\n        .then((response) => {\n          // console.log(response.data.data.currency);\n          // console.log(response.data.data.history);\n          this.currency = response.data.data.currency;\n          this.currency_list = response.data.data.history.data;\n          this.links = response.data.data.history.links;\n          this.from = response.data.data.history.from;\n        })\n        .catch((e) => {\n          var error = e.response.data;\n          console.log(error);\n        });\n    },\n    showList(pageno) {\n      if (pageno == \"Next &raquo;\") {\n        console.log(\"next\");\n        this.page = this.page + 1;\n      } else if (pageno == \"&laquo; Previous\") {\n        console.log(\"previous\");\n        this.page = this.page - 1;\n      } else {\n        this.page = pageno;\n      }\n      this.getCurrencyList();\n    },\n  },\n};\n\nfunction pad(n, width, z) {\n  z = z || \"0\";\n  n = n + \"\";\n  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n\n</style>"],"sourceRoot":""}]}