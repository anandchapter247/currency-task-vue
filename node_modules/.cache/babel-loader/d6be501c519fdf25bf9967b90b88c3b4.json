{"remainingRequest":"/var/www/html/currency-vue/node_modules/babel-loader/lib/index.js!/var/www/html/currency-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/currency-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/var/www/html/currency-vue/src/components/LoginComponent.vue?vue&type=script&lang=js","dependencies":[{"path":"/var/www/html/currency-vue/src/components/LoginComponent.vue","mtime":1606495901705},{"path":"/var/www/html/currency-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/currency-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/currency-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/currency-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwovL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW5jeUlzVXNlckxvZ2luJywnV0VSVFlVSU9QJykKaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW5jeUlzVXNlckxvZ2luIikgIT0gdW5kZWZpbmVkICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW5jeUlzVXNlckxvZ2luIikgIT09IG51bGwgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbmN5SXNVc2VyTG9naW4iKSAhPT0gJycpIHsvLyB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4rJy9saXN0JzsKfQoKaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnOwp2YXIgQVBJVVJMID0gY29uZmlnLkFQSV9VUkw7CmNvbnNvbGUubG9nKEFQSVVSTCk7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBEZWZhdWx0TGF5b3V0IGZyb20gIi4uL2xheW91dHMvRGVmYXVsdExheW91dCI7CmltcG9ydCB7IHZhbGlkYXRpb25NaXhpbiB9IGZyb20gInZ1ZWxpZGF0ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5Db21wb25lbnQiLAogIG1peGluczogW3ZhbGlkYXRpb25NaXhpbl0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJGVtaXQoInVwZGF0ZTpsYXlvdXQiLCBEZWZhdWx0TGF5b3V0KTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgbG9naW5FcnJvck1zZzogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKCF0aGlzLmVtYWlsKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgiRW1haWwgcmVxdWlyZWQuIik7CiAgICAgIH0gZWxzZSBpZiAoIVZhbGlkYXRlRW1haWwodGhpcy5lbWFpbCkpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCJFbWFpbCBmb3JtYXQgbm90IGNvcnJlY3QuIik7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5wYXNzd29yZCkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIlBhc3N3b3JkIHJlcXVpcmVkLiIpOwogICAgICB9CgogICAgICBpZiAodGhpcy5lcnJvcnMubGVuZ3RoID09IDApIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKGNvbmZpZy5BUElfVVJMKTsKICAgICAgICB2YXIgcmVzcG9uc2UgPSBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0L2N1cnJlbmN5VGFzay9wdWJsaWMvYXBpL2xvZ2luIiwgZGF0YSk7CiAgICAgICAgcmVzcG9uc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOyAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS51c2VyKSkKCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVuY3lJc1VzZXJMb2dpbicsIHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAiL2xpc3QiOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgZXJyb3IgPSBlLnJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICBfdGhpcy5sb2dpbkVycm9yTXNnID0gIkVtYWlsIG9yIHBhc3N3b3JkIGluY29ycmVjdCEiOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9OwoKZnVuY3Rpb24gVmFsaWRhdGVFbWFpbChtYWlsKSB7CiAgaWYgKC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOS1dKyg/OlwuW2EtekEtWjAtOS1dKykqJC8udGVzdChtYWlsKSkgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0="},{"version":3,"sources":["/var/www/html/currency-vue/src/components/LoginComponent.vue"],"names":[],"mappings":"AA2CA;AACE;AACF,IAAI,YAAY,CAAC,OAAb,CAAqB,qBAArB,KAA+C,SAA/C,IAA4D,YAAY,CAAC,OAAb,CAAqB,qBAArB,MAAgD,IAA5G,IAAoH,YAAY,CAAC,OAAb,CAAqB,qBAArB,MAAgD,EAAxK,EAA4K,CAC1K;AACF;;AACA,OAAO,MAAP,MAAmB,WAAnB;AACA,IAAM,MAAK,GAAI,MAAM,CAAC,OAAtB;AACA,OAAO,CAAC,GAAR,CAAY,MAAZ;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP,MAA0B,0BAA1B;AACA,SAAS,eAAT,QAAgC,WAAhC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,gBADO;AAEb,EAAA,MAAM,EAAE,CAAC,eAAD,CAFK;AAGb,EAAA,OAHa,qBAGH;AACR,SAAK,KAAL,CAAW,eAAX,EAA4B,aAA5B;AACD,GALY;AAMb,EAAA,IANa,kBAMN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,EADL;AAEL,MAAA,KAAK,EAAE,EAFF;AAGL,MAAA,MAAM,EAAE,EAHH;AAIL,MAAA,aAAa,EAAE;AAJV,KAAP;AAMD,GAbY;AAcb,EAAA,OAAO,EAAE;AACP,IAAA,KADO,mBACC;AAAA;;AACN,WAAK,MAAL,GAAc,EAAd;;AACA,UAAI,CAAC,KAAK,KAAV,EAAiB;AACf,aAAK,MAAL,CAAY,IAAZ,CAAiB,iBAAjB;AACF,OAFA,MAEO,IAAI,CAAC,aAAa,CAAC,KAAK,KAAN,CAAlB,EAAgC;AACrC,aAAK,MAAL,CAAY,IAAZ,CAAiB,2BAAjB;AACF;;AACA,UAAI,CAAC,KAAK,QAAV,EAAoB;AAClB,aAAK,MAAL,CAAY,IAAZ,CAAiB,oBAAjB;AACF;;AAEA,UAAI,KAAK,MAAL,CAAY,MAAZ,IAAsB,CAA1B,EAA6B;AAC3B,YAAM,IAAG,GAAI;AACX,UAAA,KAAK,EAAE,KAAK,KADD;AAEX,UAAA,QAAQ,EAAE,KAAK;AAFJ,SAAb;AAIA,QAAA,OAAO,CAAC,GAAR,CAAa,MAAM,CAAC,OAApB;AACA,YAAM,QAAO,GAAI,KAAK,CAAC,IAAN,CAAY,gDAAZ,EAA8D,IAA9D,CAAjB;AACA,QAAA,QAAO,CACJ,IADH,CACQ,UAAC,QAAD,EAAc;AAClB,UAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAArB,EADkB,CAElB;;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,qBAArB,EAA2C,QAAQ,CAAC,IAAT,CAAc,YAAzD;AACA,UAAA,MAAM,CAAC,QAAP,GAAkB,MAAM,CAAC,QAAP,CAAgB,MAAhB,GAAuB,OAAzC;AACD,SANH,EAOG,KAPH,CAOS,UAAC,CAAD,EAAO;AACZ,cAAI,KAAI,GAAI,CAAC,CAAC,QAAF,CAAW,IAAvB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,UAAA,KAAI,CAAC,aAAL,GAAqB,8BAArB;AACD,SAXH;AAYF;AACD;AAhCM;AAdI,CAAf;;AAkDA,SAAS,aAAT,CAAuB,IAAvB,EAA6B;AAC3B,MACE,uEAAuE,IAAvE,CACE,IADF,CADF,EAIE;AACA,WAAO,IAAP;AACF;;AACA,SAAO,KAAP;AACF","sourcesContent":["<template>\n  <div class=\"main-container\">\n    <h1 class=\"main-title\">Login</h1>\n\n    <div class=\"box-wrap\">\n      <div class=\"\">\n        <div class=\"input-div\">\n          <input\n            type=\"email\"\n            name=\"\"\n            id=\"email\"\n            placeholder=\"Email\"\n            v-model=\"email\"\n            class=\"custom-input\"\n          />\n          <input\n            type=\"password\"\n            name=\"\"\n            id=\"password\"\n            placeholder=\"Password\"\n            v-model=\"password\"\n            class=\"custom-input\"\n          />\n          <button @click=\"login()\" class=\"theme-btn\">Login</button>\n          <span class=\"error-text\" v-show=\"itemExistMsg !== ''\">{{\n            itemExistMsg\n          }}</span>\n        </div>\n        <p v-if=\"errors.length\">\n    <b>Please correct the following error(s):</b>\n    <ul>\n      <li v-for=\"error in errors\" :key=\"error\">{{ error }}</li>\n    </ul>\n  </p>\n      </div>\n    </div>\n    <div v-show=\"loginErrorMsg !== ''\" class=\"error-div\">\n      {{ loginErrorMsg }}\n    </div>\n  </div>\n</template>\n\n<script>\n// var date = new Date();\n  //localStorage.setItem('currencyIsUserLogin','WERTYUIOP')\nif (localStorage.getItem(\"currencyIsUserLogin\") != undefined && localStorage.getItem(\"currencyIsUserLogin\") !== null && localStorage.getItem(\"currencyIsUserLogin\") !== '') {\n  // window.location.href = window.location.origin+'/list';\n}\nimport config from '../config'\nconst APIURL = config.API_URL ;\nconsole.log(APIURL);\nimport axios from \"axios\";\nimport DefaultLayout from \"../layouts/DefaultLayout\";\nimport { validationMixin } from \"vuelidate\";\n\nexport default {\n  name: \"LoginComponent\",\n  mixins: [validationMixin],\n  created() {\n    this.$emit(\"update:layout\", DefaultLayout);\n  },\n  data() {\n    return {\n      password: \"\",\n      email: \"\",\n      errors: [],\n      loginErrorMsg: \"\",\n    };\n  },\n  methods: {\n    login() {\n      this.errors = [];\n      if (!this.email) {\n        this.errors.push(\"Email required.\");\n      } else if (!ValidateEmail(this.email)) {\n        this.errors.push(\"Email format not correct.\");\n      }\n      if (!this.password) {\n        this.errors.push(\"Password required.\");\n      }\n\n      if (this.errors.length == 0) {\n        const data = {\n          email: this.email,\n          password: this.password,\n        };\n        console.log( config.API_URL );\n        const response = axios.post (\"http://localhost/currencyTask/public/api/login\", data);\n        response\n          .then((response) => {\n            console.log(response.data);\n            // localStorage.setItem('user',JSON.stringify(response.data.user))\n            localStorage.setItem('currencyIsUserLogin',response.data.access_token)\n            window.location = window.location.origin+\"/list\";\n          })\n          .catch((e) => {\n            var error = e.response.data;\n            console.log(error);\n            this.loginErrorMsg = \"Email or password incorrect!\";\n          });\n      }\n    },\n  },\n};\n\nfunction ValidateEmail(mail) {\n  if (\n    /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\n      mail\n    )\n  ) {\n    return true;\n  }\n  return false;\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"],"sourceRoot":""}]}