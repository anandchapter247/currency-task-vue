{"remainingRequest":"/var/www/html/currency-task-vue/node_modules/babel-loader/lib/index.js!/var/www/html/currency-task-vue/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/var/www/html/currency-task-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/currency-task-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/var/www/html/currency-task-vue/src/components/LoginComponent.vue?vue&type=template&id=dcfd9078&scoped=true&bindings={\"password\":\"data\",\"email\":\"data\",\"errors\":\"data\",\"loginErrorMsg\":\"data\",\"login\":\"options\"}","dependencies":[{"path":"/var/www/html/currency-task-vue/src/components/LoginComponent.vue","mtime":1606548368714},{"path":"/var/www/html/currency-task-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/currency-task-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/currency-task-vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/var/www/html/currency-task-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/currency-task-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCB2U2hvdyBhcyBfdlNob3csIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LWRjZmQ5MDc4Iik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi1kY2ZkOTA3OCIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJtYWluLWNvbnRhaW5lciIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaDEiLCB7CiAgY2xhc3M6ICJtYWluLXRpdGxlIgp9LCAiTG9naW4iLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImJveC13cmFwIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogIiIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJpbnB1dC1kaXYiCn07CnZhciBfaG9pc3RlZF82ID0gewogIGtleTogMAp9OwoKdmFyIF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJiIiwgbnVsbCwgIlBsZWFzZSBjb3JyZWN0IHRoZSBmb2xsb3dpbmcgZXJyb3Iocyk6IiwgLTEKLyogSE9JU1RFRCAqLwopOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgdHlwZTogImVtYWlsIiwKICAgIG5hbWU6ICIiLAogICAgaWQ6ICJlbWFpbCIsCiAgICBwbGFjZWhvbGRlcjogIkVtYWlsIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5lbWFpbCA9ICRldmVudDsKICAgIH0pLAogICAgY2xhc3M6ICJjdXN0b20taW5wdXQiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLmVtYWlsXV0pLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJwYXNzd29yZCIsCiAgICBuYW1lOiAiIiwKICAgIGlkOiAicGFzc3dvcmQiLAogICAgcGxhY2Vob2xkZXI6ICJQYXNzd29yZCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEucGFzc3dvcmQgPSAkZXZlbnQ7CiAgICB9KSwKICAgIGNsYXNzOiAiY3VzdG9tLWlucHV0IgogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCAkZGF0YS5wYXNzd29yZF1dKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmxvZ2luKCk7CiAgICB9KSwKICAgIGNsYXNzOiAidGhlbWUtYnRuIgogIH0sICJMb2dpbiIpLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJzcGFuIiwgewogICAgY2xhc3M6ICJlcnJvci10ZXh0IgogIH0sIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5pdGVtRXhpc3RNc2cpLCA1MTMKICAvKiBURVhULCBORUVEX1BBVENIICovCiAgKSwgW1tfdlNob3csIF9jdHguaXRlbUV4aXN0TXNnICE9PSAnJ11dKV0pLCAkZGF0YS5lcnJvcnMubGVuZ3RoID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJwIiwgX2hvaXN0ZWRfNiwgW19ob2lzdGVkXzcsIF9jcmVhdGVWTm9kZSgidWwiLCBudWxsLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmVycm9ycywgZnVuY3Rpb24gKGVycm9yKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImxpIiwgewogICAgICBrZXk6IGVycm9yCiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGVycm9yKSwgMQogICAgLyogVEVYVCAqLwogICAgKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSldKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJlcnJvci1kaXYiCiAgfSwgX3RvRGlzcGxheVN0cmluZygkZGF0YS5sb2dpbkVycm9yTXNnKSwgNTEzCiAgLyogVEVYVCwgTkVFRF9QQVRDSCAqLwogICksIFtbX3ZTaG93LCAkZGF0YS5sb2dpbkVycm9yTXNnICE9PSAnJ11dKV0pOwp9KTs="},{"version":3,"sources":["/var/www/html/currency-task-vue/src/components/LoginComponent.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAiC,IAAjC,EAAiC;AAA7B,EAAA,KAAK,EAAC;AAAuB,CAAjC,EAAuB,OAAvB,EAA4B,CAAA;AAAA;AAA5B,C;;;AAEK,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;;;;8BAuBf,YAAA,CAA6C,GAA7C,EAA6C,IAA7C,EAAG,wCAAH,EAAyC,CAAA;AAAA;AAAzC,C;;;;;uBA5BF,YAAA,CAsCM,KAtCN,EAAA,UAAA,EAsCM,CArCJ,UAqCI,EAnCJ,YAAA,CA+BM,KA/BN,EAAA,UAAA,EA+BM,CA9BJ,YAAA,CA6BM,KA7BN,EAAA,UAAA,EA6BM,CA5BJ,YAAA,CAqBM,KArBN,EAAA,UAAA,EAqBM,C,gBApBJ,YAAA,CAOE,OAPF,EAOE;AANA,IAAA,IAAI,EAAC,OAML;AALA,IAAA,IAAI,EAAC,EAKL;AAJA,IAAA,EAAE,EAAC,OAIH;AAHA,IAAA,WAAW,EAAC,OAGZ;;aAFS,KAAA,CAAA,KAAA,GAAK,M;MAEd;AADA,IAAA,KAAK,EAAC;AACN,GAPF,E,IAAA,E;;AAAA,G,iBAKW,KAAA,CAAA,K,GAeP,E,gBAZJ,YAAA,CAOE,OAPF,EAOE;AANA,IAAA,IAAI,EAAC,UAML;AALA,IAAA,IAAI,EAAC,EAKL;AAJA,IAAA,EAAE,EAAC,UAIH;AAHA,IAAA,WAAW,EAAC,UAGZ;;aAFS,KAAA,CAAA,QAAA,GAAQ,M;MAEjB;AADA,IAAA,KAAK,EAAC;AACN,GAPF,E,IAAA,E;;AAAA,G,iBAKW,KAAA,CAAA,Q,GAOP,EAJJ,YAAA,CAAyD,QAAzD,EAAyD;AAAhD,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,KAAA,EAAF;AAAA,KAAA,CAA2C;AAAhC,IAAA,KAAK,EAAC;AAA0B,GAAzD,EAA2C,OAA3C,CAII,E,gBAHJ,YAAA,CAES,MAFT,EAES;AAFH,IAAA,KAAK,EAAC;AAEH,GAFT,EAAwB,gBAAA,CACtB,IAAA,CAAA,YADsB,CAAxB,EACc;AAAA;AADd,G,EACc,C,SADmB,IAAA,CAAA,YAAA,KAAY,E,CAC/B,C,CAEV,CArBN,CA4BI,EANK,KAAA,CAAA,MAAA,CAAO,M,kBAAhB,YAAA,CAKF,GALE,EAKF,UALE,EAKF,CAJF,UAIE,EAHF,YAAA,CAEK,IAFL,EAEK,IAFL,EAEK,E,kBADH,YAAA,CAAyD,SAAzD,EAAyD,IAAzD,EAAyD,WAAA,CAArC,KAAA,CAAA,MAAqC,EAA/B,UAAf,KAAe,EAAV;yBAAhB,YAAA,CAAyD,IAAzD,EAAyD;AAA5B,MAAA,GAAG,EAAE;AAAuB,KAAzD,EAAuC,gBAAA,CAAK,KAAL,CAAvC,EAAiD;AAAA;AAAjD,K;GAAyD,CAAzD,E;;AAAA,GACG,EAFL,CAGE,CALE,C,qCAMI,CA7BN,CA8BI,CA/BN,CAmCI,E,gBAHJ,YAAA,CAEM,KAFN,EAEM;AAF6B,IAAA,KAAK,EAAC;AAEnC,GAFN,EAAoD,gBAAA,CAC/C,KAAA,CAAA,aAD+C,CAApD,EACkB;AAAA;AADlB,G,EACkB,C,SADL,KAAA,CAAA,aAAA,KAAa,E,CACR,C,CAEd,CAtCN,C","sourcesContent":["<template>\n  <div class=\"main-container\">\n    <h1 class=\"main-title\">Login</h1>\n\n    <div class=\"box-wrap\">\n      <div class=\"\">\n        <div class=\"input-div\">\n          <input\n            type=\"email\"\n            name=\"\"\n            id=\"email\"\n            placeholder=\"Email\"\n            v-model=\"email\"\n            class=\"custom-input\"\n          />\n          <input\n            type=\"password\"\n            name=\"\"\n            id=\"password\"\n            placeholder=\"Password\"\n            v-model=\"password\"\n            class=\"custom-input\"\n          />\n          <button @click=\"login()\" class=\"theme-btn\">Login</button>\n          <span class=\"error-text\" v-show=\"itemExistMsg !== ''\">{{\n            itemExistMsg\n          }}</span>\n        </div>\n        <p v-if=\"errors.length\">\n    <b>Please correct the following error(s):</b>\n    <ul>\n      <li v-for=\"error in errors\" :key=\"error\">{{ error }}</li>\n    </ul>\n  </p>\n      </div>\n    </div>\n    <div v-show=\"loginErrorMsg !== ''\" class=\"error-div\">\n      {{ loginErrorMsg }}\n    </div>\n  </div>\n</template>\n\n<script>\n// var date = new Date();\n  //localStorage.setItem('currencyIsUserLogin','WERTYUIOP')\nif (localStorage.getItem(\"currencyIsUserLogin\") != undefined && localStorage.getItem(\"currencyIsUserLogin\") !== null && localStorage.getItem(\"currencyIsUserLogin\") !== '') {\n  // window.location.href = window.location.origin+'/list';\n}\nimport config from '../config'\nconst APIURL = config.API_URL ;\nconsole.log(APIURL);\nimport axios from \"axios\";\nimport DefaultLayout from \"../layouts/DefaultLayout\";\nimport { validationMixin } from \"vuelidate\";\n\nexport default {\n  name: \"LoginComponent\",\n  mixins: [validationMixin],\n  created() {\n    this.$emit(\"update:layout\", DefaultLayout);\n  },\n  data() {\n    return {\n      password: \"\",\n      email: \"\",\n      errors: [],\n      loginErrorMsg: \"\",\n    };\n  },\n  methods: {\n    login() {\n      this.errors = [];\n      if (!this.email) {\n        this.errors.push(\"Email required.\");\n      } else if (!ValidateEmail(this.email)) {\n        this.errors.push(\"Email format not correct.\");\n      }\n      if (!this.password) {\n        this.errors.push(\"Password required.\");\n      }\n\n      if (this.errors.length == 0) {\n        const data = {\n          email: this.email,\n          password: this.password,\n        };\n        console.log( config.API_URL );\n        const response = axios.post (\"http://localhost/currencyTask/public/api/login\", data);\n        response\n          .then((response) => {\n            console.log(response.data);\n            // localStorage.setItem('user',JSON.stringify(response.data.user))\n            localStorage.setItem('currencyIsUserLogin',response.data.access_token)\n            window.location = window.location.origin+\"/list\";\n          })\n          .catch((e) => {\n            var error = e.response.data;\n            console.log(error);\n            this.loginErrorMsg = \"Email or password incorrect!\";\n          });\n      }\n    },\n  },\n};\n\nfunction ValidateEmail(mail) {\n  if (\n    /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\n      mail\n    )\n  ) {\n    return true;\n  }\n  return false;\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"],"sourceRoot":""}]}