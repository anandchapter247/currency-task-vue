{"remainingRequest":"/var/www/html/currency-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/var/www/html/currency-vue/src/components/AdvanceRequirementComponent.vue?vue&type=style&index=0&id=7234439c&scoped=true&lang=css","dependencies":[{"path":"/var/www/html/currency-vue/src/components/AdvanceRequirementComponent.vue","mtime":1606546957992},{"path":"/var/www/html/currency-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/currency-vue/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/currency-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/currency-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/currency-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmhyIHsKICB3aWR0aDogMTAwJTsKfQoud2lkdGgxMDAgewogIHdpZHRoOiAxMDAlOwogIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTsKfQoud2lkdGgyNSB7CiAgd2lkdGg6IDQwJTsKICBmbG9hdDogbGVmdDsKfQo="},{"version":3,"sources":["/var/www/html/currency-vue/src/components/AdvanceRequirementComponent.vue"],"names":[],"mappings":";AA0LA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACb;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACb","file":"/var/www/html/currency-vue/src/components/AdvanceRequirementComponent.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"main-container\">\n    <h1 class=\"main-title\">Advance Requirement</h1>\n\n    <div class=\"box-wrap\">\n      <div class=\"input-div\">\n        <select name=\"\" id=\"\" class=\"custom-input\" v-model=\"cid\" @change=\"getCurrencyRates()\">\n          <option value=\"\" selected>Select currency</option>\n          <option\n            v-for=\"item in currency_list\"\n            :key=\"item\"\n            v-bind:value=\"item.NumCode\"\n          >\n            {{ item.CharCode }}\n          </option>\n        </select>\n        <input\n          type=\"text\"\n          name=\"\"\n          id=\"\"\n          class=\"custom-input\"\n          placeholder=\"Date(yyyy-mm-dd)\"\n          v-model=\"from_date\"\n        />\n\n        <button @click=\"getCurrencyRates()\" class=\"theme-btn\">Get Rates</button>\n      </div>\n\n      <hr />\n      <table>\n        <thead>\n          <tr>\n            <th>Min</th>\n            <th>Max</th>\n            <th>Average</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>{{ rate_list.min }}</td>\n            <td>{{ rate_list.max }}</td>\n            <td>{{ rate_list.avg }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"pagination\">\n        <a\n          v-for=\"l in links\"\n          :key=\"l\"\n          @click=\"showList(l.label)\"\n          v-html=\"`${l.label}`\"\n        ></a>\n      </div>\n    </div>\n    <div v-show=\"noItemSelectedForMoveMsg !== ''\" class=\"error-div\">\n      {{ noItemSelectedForMoveMsg }}\n    </div>\n  </div>\n</template>\n\n<script>\nif (localStorage.getItem(\"item_management_token\") === null) {\n  // localStorage.setItem(\"item_management_token\", uniqueToken.join(\"\"));\n}\nconst APIURL = \"http://localhost/currency_api/\";\nimport axios from \"axios\";\nimport DefaultLayout from \"../layouts/DefaultLayout\";\n\nexport default {\n  name: \"AdvanceRequirementComponent\",\n  created() {\n    this.getCurrencyList(), this.$emit(\"update:layout\", DefaultLayout);\n  },\n  data() {\n    return {\n      currency_list: [],\n      rate_list:[],\n      currency: {},\n      links: [],\n      from: 0,\n      page: 0,\n      from_date: \"\",\n      cid: 0,\n      post_data: {},\n    };\n  },\n  methods: {\n    getCurrencyList() {\n      const data = { page_size: 50 };\n      // console.log(`${APIURL}currency/list`);\n\n      axios.defaults.headers.common[\"Access-Control-Allow-Origin\"] = \"*\";\n\n      const response = axios.post(\n        `http://localhost/currencyTask/public/api/currency/list`,\n        data,\n        {\n          headers: {\n            Authorization:\n              \"Bearer \" + localStorage.getItem(\"currencyIsUserLogin\"),\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      response\n        .then((response) => {\n          console.log(response.data);\n          this.currency_list = response.data.data.data;\n        })\n        .catch((e) => {\n          var error = e.response.data;\n          console.log(error);\n        });\n    },\n    getCurrencyRates() {\n      // var digitCount = this.id.toString().length;\n      // var cid = 0;\n      // // if (digitCount == 2) {\n      // //   cid = pad(this.id, 3);\n      // // } else {\n      // //   cid = this.id;\n      // // }\n      // cid = 36;\n\n      if (this.from_date != \"\") {\n        this.post_data = { base_currency_id: this.cid, date: this.from_date };\n      } else {\n        this.post_data = { base_currency_id: this.cid };\n      }\n      console.log(this.cid)\n      console.log(`${APIURL}currency/list`);\n\n      axios.defaults.headers.common[\"Access-Control-Allow-Origin\"] = \"*\";\n\n      const response = axios.post(\n        `http://localhost/currencyTask/public/api/currency/calculation`,\n        this.post_data,\n        {\n          headers: {\n            Authorization:\n              \"Bearer \" + localStorage.getItem(\"currencyIsUserLogin\"),\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      response\n        .then((response) => {\n          console.log(response.data.data.min);\n          // console.log(response.data.data.history);\n          // this.currency = response.data.data.currency;\n          this.rate_list.min = response.data.data.min;\n          this.rate_list.max = response.data.data.max;\n          this.rate_list.avg = response.data.data.avg;\n          console.log(this.rate_list)\n          // this.links = response.data.data.history.links;\n          // this.from = response.data.data.history.from;\n        })\n        .catch((e) => {\n          var error = e.response.data;\n          console.log(error);\n        });\n    },\n    showList(pageno) {\n      if (pageno == \"Next &raquo;\") {\n        console.log(\"next\");\n        this.page = this.page + 1;\n      } else if (pageno == \"&laquo; Previous\") {\n        console.log(\"previous\");\n        this.page = this.page - 1;\n      } else {\n        this.page = pageno;\n      }\n      this.getCurrencyList();\n    },\n  },\n};\n\n// function pad(n, width, z) {\n//   z = z || \"0\";\n//   n = n + \"\";\n//   return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n// }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nhr {\n  width: 100%;\n}\n.width100 {\n  width: 100%;\n  background-color: lightgray;\n}\n.width25 {\n  width: 40%;\n  float: left;\n}\n</style>"]}]}